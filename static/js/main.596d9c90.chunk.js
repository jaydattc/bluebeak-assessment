(this["webpackJsonpbluebeak-assessment"]=this["webpackJsonpbluebeak-assessment"]||[]).push([[0],{24:function(e,t,r){},25:function(e,t,r){},28:function(e,t,r){},31:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),o=r.n(a),c=r(13),s=r.n(c),i=(r(24),r(2)),l=r(11),u=r(3),d=r(4),b=(r(25),r(9)),j=(r(28),function(e){var t=e.columns,r=e.data,a=e.onRowHover,o=e.onRowMouseLeave,c=Object(b.useTable)({columns:t,data:r},b.useSortBy),s=c.getTableProps,l=c.getTableBodyProps,u=c.headerGroups,d=c.rows,j=c.prepareRow;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("table",Object(i.a)(Object(i.a)({},s()),{},{children:[Object(n.jsx)("thead",{children:u.map((function(e){return Object(n.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(n.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(Object(i.a)({},e.getSortByToggleProps()))),{},{style:e.headerStyle?Object(i.a)({position:"relative",cursor:"pointer"},e.headerStyle):{position:"relative",cursor:"pointer"},role:"button",children:[e.render("Header"),Object(n.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u2193":"\u2191":""})]}))}))}))}))}),Object(n.jsx)("tbody",Object(i.a)(Object(i.a)({},l()),{},{children:d.map((function(e,t){return j(e),Object(n.jsx)("tr",Object(i.a)(Object(i.a)({},e.getRowProps()),{},{onMouseOver:a?function(){return a(e.original)}:void 0,onMouseLeave:o?function(){return o(e.original)}:void 0,children:e.cells.map((function(e){return Object(n.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps({className:e.column.className,style:e.column.style})),{},{children:e.render("Cell")}))}))}))}))}))]}))})}),f=function(e){return parseFloat(e).toLocaleString("en-US",{minimumIntegerDigits:2,maximumFractionDigits:0,useGrouping:!1})},p=function(e){return parseFloat(e).toFixed(1)/8},O=function(e){var t=parseFloat(100*parseFloat(e));return t>=100?"\u2713":t>99?"> 99 %":t<99?t.toLocaleString("en-US",{maximumFractionDigits:1,useGrouping:!1})+"%":void 0};function m(){var e=Object(u.a)(["\n  background: ",";\n  height: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  padding: 0 0.5rem;\n"]);return m=function(){return e},e}var v=d.a.span(m(),(function(e){return e.bg}));v.defaultProps={bg:"rgb(80, 176, 172)"};var g=v,h=function(e){var t=e.data,r=e.totalVotes,a=e.setCurrentHoverRow,c=o.a.useMemo((function(){return[{id:"senate-state-followers",Header:"",columns:[{Header:"STATE",accessor:"state"},{Header:"VOTES",accessor:"total_votes"},{Header:"PERCENTAGE",accessor:"percentageFromTotal",headerStyle:{maxWidth:"6em"},Cell:function(e){var t=e.value;return Object(n.jsx)(g,{bg:"rgba(80, 176, 172, ".concat(t,")"),children:O(t)})}}]}]}),[]);return Object(n.jsx)(j,{data:t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{percentageFromTotal:parseFloat(e.total_votes)/r})})),columns:c,onRowHover:function(e){return a({senate_state:e})}})};function w(){var e=Object(u.a)(["\n  display: block;\n  background-color: ",";\n  width: ","%;\n  min-height: 1rem;\n"]);return w=function(){return e},e}function x(){var e=Object(u.a)(["\n  background-color: whitesmoke;\n  min-width: 6rem;\n  min-height: 1rem;\n  margin-left: 0.25rem;\n"]);return x=function(){return e},e}var _=d.a.div(x()),S=d.a.span(w(),(function(e){return e.bg}),(function(e){return e.progress}));S.defaultProps={bg:"rgba(88, 194, 204)",progress:0};var H=function(e){var t=e.progress,r=e.bg;return Object(n.jsx)(_,{children:Object(n.jsx)(S,{progress:t,bg:r})})},F=function(e){var t=e.children;return Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse",fontFamily:'"Fira Mono", Consolas, Monaco, monospace'},children:t})},k=function(e){var t=e.data,r=e.setCurrentHoverRow,a=o.a.useMemo((function(){return t.reduce((function(e,t){return parseInt(t.followers)>e?parseInt(t.followers):e}),0)}),[t]),c=o.a.useMemo((function(){return[{id:"twitter-followers-senate",Header:"",columns:[{Header:"ACCOUNT",accessor:"account",Cell:function(e){var t=e.value;return Object(n.jsxs)("a",{href:"https://twitter.com/".concat(t),target:"_blank",rel:"noreferrer",children:["@",t]})}},{Header:"FOLLOWERS",accessor:"followers",Cell:function(e){var t=e.value;return Object(n.jsxs)(F,{children:[Object(n.jsx)(H,{progress:parseInt(t)/a*100}),parseInt(t).toLocaleString("en-US",{useGrouping:!0})]})}},{Header:"EXCLUSIVE FOLLOWERS",accessor:"exclusive_followers_pct",headerStyle:{maxWidth:"6em"},Cell:function(e){var t=e.value;return Object(n.jsxs)(F,{children:[Object(n.jsx)(H,{bg:"#f55e84",progress:O(t).slice(0,-1)})," ",O(t)]})}}]}]}),[a]);return Object(n.jsx)(j,{data:t,columns:c,onRowHover:function(e){return r({twitter_followers:e})}})};function C(){var e=Object(u.a)(["\n  background: ",";\n  display: inline-block;\n  border-radius: 1em;\n  line-height: 2em;\n  text-align: center;\n  width: 2em;\n"]);return C=function(){return e},e}var y=d.a.span(C(),(function(e){return e.bg}));y.defaultProps={bg:"green"};var M=y,R=function(e){var t=e.data,r=e.setCurrentHoverRow,a=o.a.useMemo((function(){return{className:"no-spacing",headerStyle:{maxWidth:"5em"},Cell:function(e){var t=e.value;return Object(n.jsx)(g,{bg:"rgba(80, 176, 172, ".concat(parseFloat(t)<.5?0:t,")"),children:O(t)})}}}),[]),c=o.a.useMemo((function(){return[{Header:"TEAM",accessor:"team"},{Header:"GROUP",accessor:"group"},{Header:"TEAM RATING",columns:[{Header:"SPI",accessor:"spi",Cell:function(e){return parseFloat(e.value).toFixed(1)}},{Header:"OFF.",accessor:"global_o",Cell:function(e){return Object(n.jsx)(M,{bg:"rgba(0, 255, 0, ".concat(p(e.value),")"),children:f(e.value)})}},{Header:"DIFF.",accessor:"global_d",Cell:function(e){return Object(n.jsx)(M,{bg:"rgba(255, 0, 0, ".concat(p(e.value),")"),children:f(e.value)})}}]},{Header:"KNOCKOUT STAGE CHANCES",columns:[Object(i.a)({Header:"MAKE ROUND OF 16",accessor:"make_round_of_16"},a),Object(i.a)({Header:"MAKE QTR-FINALS",accessor:"make_quarters"},a),Object(i.a)({Header:"MAKE SEMIFINALIST",accessor:"make_semis"},a),Object(i.a)({Header:"WIN WORLD CUP",accessor:"win_league"},a)]}]}),[a]);return Object(n.jsx)(j,{data:t,columns:c,onRowHover:function(e){return r({wwc_forecasts:e})}})},T=r(6),E=r.n(T),I=r(17),P=r(18),L=r.n(P),A=function(){var e=Object(I.a)(E.a.mark((function e(t){var r,n,a,o,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body.getReader(),e.next=3,r.read();case 3:return n=e.sent,a=new TextDecoder("utf-8"),o=a.decode(n.value),c=L.a.parse(o,{header:!0}),e.abrupt("return",c.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t={};for(var r in e){var n=parseFloat(e[r]);t[r]=isNaN(n)?e[r]:n}return t},D={wwc_forecasts_link:"./dataset/wwc_forecasts.csv",twitter_followers_link:"./dataset/twitter_followers.csv",senate_state_link:"./dataset/senate_state.csv"},G=r(5);function U(){var e=Object(u.a)(["\n  padding: 0;\n  margin: 0;\n  min-height: 4rem;\n  margin-top: 2rem;\n  vertical-align: text-bottom;\n"]);return U=function(){return e},e}function W(){var e=Object(u.a)(["\n  display: inline;\n  font-weight: bold;\n  color: ",";\n"]);return W=function(){return e},e}function B(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 10px;\n  align-items: flex-end;\n  max-width: 300px;\n"]);return B=function(){return e},e}function K(){var e=Object(u.a)(["\n  margin-top: calc(56px + 3em - 8px);\n  width: 100%;\n  font-size: 24px;\n  text-align: center;\n  border-bottom: 1px solid black;\n"]);return K=function(){return e},e}var V=d.a.h1(K()),J=d.a.div(B()),q=d.a.span(W(),(function(e){return e.color}));q.defaultProps={color:"black"};var z=d.a.p(U());var Q=function(){var e,t,r,o,c,s,u=Object(a.useState)({wwc_forecasts:[],twitter_followers:[],senate_state:[]}),d=Object(l.a)(u,2),b=d[0],j=d[1],f=Object(a.useState)({wwc_forecasts:null,twitter_followers:null,senate_state:null}),p=Object(l.a)(f,2),m=p[0],v=p[1],g=Object(a.useCallback)((function(e){return v(Object(i.a)(Object(i.a)({},m),e))}),[v,m]);Object(a.useEffect)((function(){Promise.all(Object.values(D).map((function(e){return fetch(e)}))).then((function(e){return Promise.all(e.map(A)).then((function(e){return e.map((function(e){return e.map(N)}))}))})).then((function(e){j({wwc_forecasts:e[0],twitter_followers:e[1],senate_state:e[2]}),v({wwc_forecasts:e[0][0],twitter_followers:e[1][0],senate_state:e[2][0]})})).catch(console.log)}),[v]);var w=Object(a.useMemo)((function(){return b.wwc_forecasts.map((function(e){return parseFloat(e.win_league)}))}),[b]),x=Object(a.useMemo)((function(){return b.twitter_followers.map((function(e){return parseFloat(e.followers)}))}),[b]),_=Object(a.useMemo)((function(){return b.senate_state.map((function(e){return parseFloat(e.total_votes)}))}),[b]),S=Object(a.useMemo)((function(){return b.senate_state.reduce((function(e,t){return parseInt(t.total_votes)+e}),0)}),[b]),H=Object(a.useMemo)((function(){return Array(20).fill(null).map((function(){return Math.random()}))}),[]);return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(R,{setCurrentHoverRow:g,data:b.wwc_forecasts}),Object(n.jsx)(k,{setCurrentHoverRow:g,data:b.twitter_followers}),Object(n.jsx)(h,{setCurrentHoverRow:g,totalVotes:S,data:b.senate_state}),Object(n.jsxs)("div",{style:{maxWidth:"300px"},children:[Object(n.jsx)(V,{children:"What it means"})," ",Object(n.jsxs)(J,{children:[Object(n.jsx)(G.Sparklines,{data:w,children:Object(n.jsx)(G.SparklinesBars,{})}),Object(n.jsxs)(z,{children:[Object(n.jsx)(q,{children:null===(e=m.wwc_forecasts)||void 0===e?void 0:e.team})," has a"," ",Object(n.jsx)(q,{color:"red",children:O(null===(t=m.wwc_forecasts)||void 0===t?void 0:t.win_league)})," ","chance of winning the World Cup."]}),Object(n.jsx)(G.Sparklines,{data:x,children:Object(n.jsx)(G.SparklinesBars,{})}),Object(n.jsxs)(z,{children:[Object(n.jsx)(q,{children:null===(r=m.twitter_followers)||void 0===r?void 0:r.account})," has"," ",Object(n.jsx)(q,{color:"red",children:parseInt(null===(o=m.twitter_followers)||void 0===o?void 0:o.followers).toLocaleString("en-US",{useGrouping:!0})})," ","followers on twitter."]}),Object(n.jsx)(G.Sparklines,{data:_,children:Object(n.jsx)(G.SparklinesBars,{})}),Object(n.jsxs)(z,{children:[Object(n.jsx)(q,{children:null===(c=m.senate_state)||void 0===c?void 0:c.state})," received"," ",Object(n.jsx)(q,{color:"red",children:O(parseInt(null===(s=m.senate_state)||void 0===s?void 0:s.total_votes)/S)})," ","of total votes."]})]}),Object(n.jsx)(V,{children:"How it's changed"}),Object(n.jsx)(G.Sparklines,{data:H,children:Object(n.jsx)(G.SparklinesLine,{style:{fill:"none"}})})]})]})},X=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,32)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(Q,{})}),document.getElementById("root")),X()}},[[31,1,2]]]);
//# sourceMappingURL=main.596d9c90.chunk.js.map